<?xml version="1.0" encoding="utf-8"?>
<log4net debug="false">
  <appender name="RollingFileAppender" type="log4net.Appender.RollingFileAppender">
    <file value="Logs/log4net.log" />
    <appendToFile value="true" />
    <rollingStyle value="Size" />
    <maxSizeRollBackups value="20" />
    <maximumFileSize value="4000KB" />
    <staticLogFileName value="true" />
    <lockingModel type="log4net.Appender.FileAppender+MinimalLock" />
    <layout type="log4net.Layout.XmlLayoutSchemaLog4j" />
    <!--
	<layout type="log4net.Layout.PatternLayout">
	      <conversionPattern value="%d [%t] %-5p %c - %m%n" />
	</layout>
    -->
  </appender>

  <appender name="UdpAppender" type="log4net.Appender.UdpAppender">
    <remoteAddress value="172.16.1.255" />
    <remotePort value="7071" />
    <layout type="log4net.Layout.XmlLayoutSchemaLog4j" />
  </appender>

  <appender name="ColoredConsoleAppender" type="log4net.Appender.ColoredConsoleAppender">
    <mapping>
      <level value="ERROR" />
      <foreColor value="Red, HighIntensity" />
    </mapping>
    <mapping>
      <level value="WARN" />
      <foreColor value="Yellow, HighIntensity" />
    </mapping>
    <mapping>
      <level value="INFO" />
      <foreColor value="White" />
    </mapping>
    <mapping>
      <level value="DEBUG" />
      <foreColor value="Cyan" />
    </mapping>
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%message%newline" />
    </layout>
  </appender>
  <appender name="OutputDebugStringAppender" type="log4net.Appender.OutputDebugStringAppender">
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%-5p %m - %c -%n" />
    </layout>
  </appender>
  <appender name="TraceAppender" type="log4net.Appender.TraceAppender">
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%d [%t] %-5p %c - %m%n" />
    </layout>
  </appender>
  <!--  <appender name="UdpAppender" type="log4net.Appender.UdpAppender">-->
  <!--    <localPort value="8080" />-->
  <!--    <remoteAddress value="224.0.0.1" />-->
  <!--    <remotePort value="8080" />-->
  <!--    <layout type="log4net.Layout.XmlLayoutSchemaLog4j, log4net" />-->
  <!--  </appender>-->
  <!-- Custom appender for MassTransit's Messages -->
  <appender name="MT.Messages"
			  type="log4net.Appender.FileAppender">
    <file value="masstransit.messages.log" />
    <appendToFile value="false" />
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%-5p %d{hh:mm:ss} %message%newline" />
    </layout>
  </appender>
  <root>
    <level value="INFO" />
    <appender-ref ref="RollingFileAppender" />
    <appender-ref ref="UdpAppender" />
    <appender-ref ref="OutputDebugStringAppender" />
    <appender-ref ref="ColoredConsoleAppender" />
    <!--    <appender-ref ref="UdpAppender" />-->
  </root>
  <logger name="NHibernate" additivity="false">
    <level value="FATAL"/>
    <appender-ref ref="RollingFileAppender" />
    <appender-ref ref="UdpAppender" />
    <appender-ref ref="OutputDebugStringAppender" />
    <appender-ref ref="ColoredConsoleAppender" />
  </logger>
  <!-- Standard MassTransit Logging Settings -->
  <logger name="MassTransit">
    <level value="ERROR" />
  </logger>

  <logger name="MassTransit.Messages">
    <level value="ERROR" />
    <appender-ref ref="MT.Messages" />
  </logger>

  <!-- Seeing service messages would be good here -->
  <logger name="MassTransit.Host2">
    <level value="ERROR"/>
  </logger>
</log4net>